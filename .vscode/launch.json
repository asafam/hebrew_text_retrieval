{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Run Generate Translation Candidates",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/src/translation/generate_translation_candidates.py",
            "args": [
                "--dataset_names",
                "BeIR/msmarco",
                "BeIR/fever",
                "BeIR/scifact",
                "--num_samples",
                "1024",
                "--max_document_segment_tokens",
                "256",
                "--model_name",
                "dicta-il/dictalm2.0-AWQ",
                "--output_path",
                "./outputs/translation/BeIR",
                "--random_seed",
                "42"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTHONPATH": "${workspaceFolder}/src"
            }
        },
        {
            "name": "Run Translation Model Pipeline",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/src/translation/model/run_translation_pipeline.py",
            "args": [
                "--source_file_paths",
                "outputs/translation/BeIR/BeIR_msmarco/documents.csv",
                "outputs/translation/BeIR/BeIR_msmarco/queries.csv",
                "--prompt_file_name",
                "prompts/translation/dicta_dictalm2_0/translation_prompts_v20250105.yaml",
                "--model_name",
                "dicta-il/dictalm2.0-AWQ",
                "--batch_size",
                "1",
                "--max_new_tokens",
                "0",
                "--use_cached_prefix"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTHONPATH": "${workspaceFolder}/src"
            }
        },
        {
            "name": "Run Translation API Pipeline",
            "type": "debugpy",
            "request": "launch",
            "python": "/Users/asaf/opt/miniconda3/envs/htr/bin/python",
            "program": "${workspaceFolder}/src/translation/api/run_translation_pipeline.py",
            "args": [
                "--source_file_paths",
                "outputs/translation/BeIR/long_documents/shuffled_long_docs.csv",
                "--output_dir",
                "outputs/translation/BeIR/long_documents/gemini-2.0-flash-lite",
                "--prompt_file_name",
                "prompts/translation/openai/translation_prompts_zeroshot_v20250220.yaml",
                "--model_name",
                "gemini-2.0-flash-lite",
                "--limit",
                "300",
                "--force",
                "--parallel",
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTHONPATH": "${workspaceFolder}/src",
            },
            "envFile": "${workspaceFolder}/.env"
        },
        {
            "name": "Run Evaluate Translations API Pipeline",
            "type": "debugpy",
            "request": "launch",
            "python": "/Users/asaf/opt/miniconda3/envs/htr/bin/python",
            "program": "${workspaceFolder}/src/translation/api/run_evaluate_translations.py",
            "args": [
                "--source_file_paths",
                "outputs/translation/BeIR/BeIR_msmarco/gemini-2.0-flash-lite/queries_with_ambiguity_translated.csv",
                "--output_dir",
                "outputs/translation/BeIR/BeIR_msmarco/gemini-2.0-flash-lite",
                // "--gold_file_path",
                // "outputs/translation/BeIR/BeIR_msmarco/gpt-4o-mini-2024-07-18/gold/queries_with_ambiguity.csv",
                "--prompt_file_name",
                "prompts/translation/openai/translation_evaluation_nogold_v20250323.yaml",
                "--model_name",
                "gpt-4o-2024-08-06",
                "--limit",
                "110",
                "--english_key",
                "text",
                "--hebrew_key",
                "translation",
                "--parallel"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTHONPATH": "${workspaceFolder}/src",
            },
            "envFile": "${workspaceFolder}/.env"
        },
        {
            "name": "prepare_dolma_dataset_train",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/src/data/preprocessing/prepare_dolma_dataset_train.py",
            "args": [], 
            "console": "integratedTerminal",
            "env": {
                "PYTHONPATH": "${workspaceFolder}/src",
            },
        },
        {
            "name": "build_dataset",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/src/data/preprocessing/build_datasets.py",
            "args": [
                "--config_file",
                "config/data/datasets_train_corpus.yaml",
                "--output_path",
                "data/test",
                "--split",
                "train",
                "--format",
                "mds",
                "--shard_size_limit",
                "67108864",
                "--buffer_size",
                "1000000"
            ], 
            "console": "integratedTerminal",
            "env": {
                "PYTHONPATH": "${workspaceFolder}/src",
            },
        },
    ]
}